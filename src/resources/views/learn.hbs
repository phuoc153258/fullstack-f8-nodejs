<div class="learn">
  <div class="learn-content">
    <div class="learn-video">
      <iframe width="699" height="393" src="https://www.youtube.com/embed/{{{renderVideoId user course}}}" title="YouTube video player"
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
    <div class="learn-content-container">
      <div class="learn-content-header">
        <div class="learn-content-header-left">
          <h3 class="learn-content-heading">{{{renderCourseName user course}}}</h3>
          <p class="learn-content-date">Cập nhật tháng 2 năm 2022</p>
        </div>
        <div class="learn-content-header-right">
          <button class="learn-content-note"><i class="fa-solid fa-plus"></i>
            Thêm ghi chú</button>
        </div>
      </div>
      <div class="learn-content-markDown">
        {{{renderDescribeLesson user course}}}
      </div>
    </div>
    <p class="learn-content-makeBy">Make by Phước ❤️</p>
  </div>
  <div class="learn-track">
    <div class="learn-container">
      <h3 class="learn-track-heading">
        Nội dung khoá học
      </h3>
      <div class="learn-track-body">
        {{#each course.courseContent}}
        <div class="learn-track-item">
          <div class="learn-track-item-heading">
            <h3 class="learn-track-item-title">1. {{this.name}}<i class="fa-solid fa-angle-down"
                id="icon{{@index}}"></i></h3>
            <span class="learn-track-item-desc">{{{getLessonCompletedInChapter ../user.detailCourses ../course._id this.id}}}/{{{getLengthChapterLesson this.lesson}}} | {{{getTotalTimeLengthChapter this.lesson}}}</span>
          </div>
          <div class="learn-track-stepList d-none" id="item{{@index}}">
            {{#each this.lesson}} 
              <div class="learn-track-stepList-item" onclick="updateIdxVideo({{{renderIdxVideo this.id ../../course.courseContent}}}, '{{../../course._id}}')">
                <div class="learn-track-stepList-item-info">
                  <h3 class="learn-track-stepList-item-title">{{{renderIdxVideoList this.id ../../course.courseContent}}}. {{this.name}}
                    <div id="stop-propagation-lesson">
                    {{{checkLessonCompleted this.id ../../user.detailCourses ../../course._id ../this.id}}}
                    </div>
                  </h3>
                  <p class="learn-track-stepList-item-desc">
                    <i class="fa-solid fa-circle-play"></i>
                    {{{numberToTime this.videoLength}}}
                  </p>
                </div>
              </div>
            {{/each}}
          </div>
        </div>
        {{/each}}
      </div>
    </div>
  </div>
</div>
<form method="POST" action="/learning/handle/lesson-completed?_method=PUT" id="form-handle-completed-lesson" hidden>
  <input type="text" value="" name="isCompleted" id="is-completed-js">
  <input type="text" value="" name="idLesson" id="id-lesson-js">
  <input type="text" value="" name="idChapter" id="id-chapter-js">
  <input type="text" value="" name="idCourse" id="id-course-js">
</form>
<form method="POST" action="/learning/handle/index-video?_method=PUT" id="form-handle-index-video" hidden>
  <input type="text" value="" name="idCourse" id="idcourse-handle-index-js">
  <input type="number" value="" name="indexVideo" id="index-video-js">
</form>